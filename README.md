# datetime

[![Stars](https://img.shields.io/github/stars/khorevaa/datetime.svg?label=Github%20%E2%98%85&a)](https://github.com/khorevaa/datetime/stargazers)
[![Release](https://img.shields.io/github/tag/khorevaa/datetime.svg?label=Last%20release&a)](https://github.com/khorevaa/datetime/releases)
[![Открытый чат проекта https://gitter.im/EvilBeaver/oscript-library](https://badges.gitter.im/khorevaa/datetime.png)](https://gitter.im/EvilBeaver/oscript-library)

[![Build Status](https://travis-ci.org/khorevaa/datetime.svg?branch=master)](https://travis-ci.org/khorevaa/datetime)
[![Coverage Status](https://coveralls.io/repos/github/khorevaa/datetime/badge.svg?branch=master)](https://coveralls.io/github/khorevaa/datetime?branch=master)

# Описание библиотеки `datetime`

## Возможности

* Конвертация даты и времени из/в `unix timestamp`
* Конвертация даты и времени из строкового представления по формату

## Установка

Для установки необходимо:
* Скачать файл datetime*.ospx из раздела [releases](https://github.com/khorevaa/datetime/releases)
* Воспользоваться командой:

```
opm install -f <ПутьКФайлу>
```
или установить с хаба пакетов

```
opm install datetime
```

## Пример работы

* Конвертация в формат `unix timestamp`
    ```bsl
        ПроцессорДаты = Новый ДатаВремя();

        ПроверяемаяДата = Дата("20180101");

        МеткаВремени = ПроцессорДаты.ВМеткуВремени(ПроверяемаяДата);

        Утверждения.ПроверитьРавенство(МеткаВремени, 1514764800, "Полученные числа должны быть равны");

    ```

* Конвертация из формата `unix timestamp`
    ```bsl
        ПроцессорДаты = Новый ДатаВремя();

        ПроверяемаяДата = Дата("20180101");

        ПолучившаясяДата = ПроцессорДаты.ИзМеткиВремени(1514764800);

        Утверждения.ПроверитьРавенство(ПроверяемаяДата, ПолучившаясяДата, "Полученные числа должны быть равны");

    ```

* Конвертация из строки по формату

    ```bsl

	    ДатаПроверки = Дата("20180101");
	    ФорматДатыСтроки = "dd MM yy";
        ДатаПроверкиПоФормату = Формат(ДатаПроверки, СтрШаблон("ДФ='%1'", ФорматДатыСтроки));

		Лог.Информация("Проверка чтения даты в формате <%1> строка даты <%2>", ФорматДатыСтроки, ДатаПроверкиПоФормату);

		Результат = ПроцессорДаты.СтрокаВДату(ДатаПроверкиПоФормату, ФорматДатыСтроки);

		Утверждения.ПроверитьРавенство(Результат, ДатаПроверки, "Даты должны быть равны");
	
    ```

## Публичный интерфейс

Библиотека реализовывает следующие объекты:

* Класс `ДатаВремя`
  * Метод `ВМеткуВремени` - Конвертирует дату в формат метки времени (timestamp)
  * Метод `ИзМеткиВремени` - Конвертирует дату из формата метки времени (timestamp) в формат дата
  * Метод `СтрокаВДату` - Конвертирует строку в дату по шаблону форматной строки
  * Метод `ТекущаяДатаВМеткуВремени` - Конвертирует текущую дату в формат метки времени (timestamp)

* Модуль `РаботаСДатой` - методы аналогичные классу `ДатаВремя`

[Документация публичного интерфейса](docs/README.md)

## Доработка

Доработка проводится по git-flow. Жду ваших PR.

## Лицензия

Смотри файл [`LICENSE`](LICENSE).
